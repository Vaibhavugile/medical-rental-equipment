/* ServiceStepsAnimated.css
   Full merged stylesheet:
   - Premium Two-Column (bmm2-twocol) styling
   - Steps section (bmm2-*) â€” cards, anchored badges, reveal on scroll
   - FIXED: Vertical alignment using Flexbox instead of JS Positioning
   - FIXED: Perfect centering of badges on the timeline line
*/

/* =========================
   THEME / TOKENS
   ========================= */
:root {
  --bmm-primary: #f28c28;
  --bmm2-primary: #f28c28;
  --bmm2-accent: #f28c28;
  --bmm-navy: #0C2340;
  --bmm2-navy: #0C2340;
  --bmm-muted: #6b7e8c;
  --bmm2-muted: #6b7e8c;
  --bmm-section-bg: #f5fbff;
  --bmm2-bg: #f3fbff;
  --bmm-card-bg: #ffffff;
  --bmm2-card: rgba(255,255,255,0.98);
  --bmm-ease: cubic-bezier(.16,.84,.24,1);
  --bmm2-ease: cubic-bezier(.16,.84,.24,1);
  --bmm-shadow-1: rgba(6,30,60,0.06);
  --bmm-shadow-2: rgba(6,30,60,0.12);
}

/* =========================
   PREMIUM TWO-COLUMN
   ========================= */
.bmm2-twocol {
  padding: 56px 6vw;
  display: flex;
  justify-content: center;
  background: transparent;
  box-sizing: border-box;
}

.bmm2-twocol-inner {
  width: 94%;
  max-width: 1250px;
  background: linear-gradient(180deg, rgba(255,255,255,0.94), var(--bmm-section-bg));
  border-radius: 28px;
  padding: 28px;
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 42px;
  align-items: center;
  box-shadow: 0 18px 46px var(--bmm-shadow-1);
  transform: translateY(10px);
  opacity: 0;
  transition: transform 640ms var(--bmm2-ease), opacity 640ms var(--bmm2-ease), box-shadow 420ms var(--bmm2-ease);
  position: relative;
  isolation: isolate;
}

.bmm2-twocol.bmm-visible .bmm2-twocol-inner {
  transform: translateY(0);
  opacity: 1;
}

.bmm2-twocol-inner.flip .bmm2-media { order: 2; }
.bmm2-twocol-inner.flip .bmm2-content { order: 1; }

.bmm2-media {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 8px;
}
.bmm2-media-card {
  width: 100%;
  background: var(--bmm-card-bg);
  padding: 16px;
  border-radius: 22px;
  box-shadow: 0 20px 60px var(--bmm-shadow-1);
  border: 1px solid rgba(6,30,60,0.03);
  transition: transform 480ms var(--bmm2-ease);
  overflow: hidden;
}
.bmm2-media-card:hover { transform: translateY(-6px); }

.bmm2-img {
  width: 100%;
  height: auto;
  border-radius: 16px;
  object-fit: cover;
  display: block;
}

.bmm2-content { padding-left: 8px; }

.bmm2-eyebrow {
  display: inline-block;
  background: rgba(242, 140, 40, 0.1);
  color: var(--bmm-primary);
  padding: 6px 14px;
  border-radius: 999px;
  font-weight: 700;
  font-size: 0.86rem;
  margin-bottom: 12px;
  letter-spacing: 0.4px;
}

.bmm2-title {
  font-size: 2.2rem;
  font-weight: 900;
  color: var(--bmm2-navy);
  margin: 6px 0 12px 0;
  line-height: 1.1;
}

.bmm2-lead {
  color: var(--bmm-muted);
  font-weight: 600;
  margin-bottom: 18px;
  font-size: 1rem;
}

.bmm2-par {
  color: #3b4752;
  line-height: 1.7;
  margin-bottom: 12px;
}

.bmm2-list {
  list-style: none;
  padding: 0;
  margin: 16px 0;
  display: grid;
  gap: 14px;
}
.bmm2-list-item {
  display: flex;
  gap: 14px;
  align-items: flex-start;
}
.bmm2-bullet {
  min-width: 28px;
  height: 28px;
  border-radius: 50%;
  background: var(--bmm-primary);
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.8rem;
  box-shadow: 0 4px 10px rgba(242, 140, 40, 0.2);
}
.bmm2-list-item span:last-child {
  font-weight: 700;
  color: var(--bmm-navy);
  line-height: 1.6;
}

.bmm2-btn {
  display: inline-flex;
  padding: 12px 24px;
  border-radius: 12px;
  background: var(--bmm-primary);
  color: #fff;
  font-weight: 800;
  border: 0;
  cursor: pointer;
  transition: transform 180ms var(--bmm2-ease);
}
.bmm2-btn:hover { transform: translateY(-3px); }

/* =========================
   STEPS SECTION
   ========================= */

.bmm2-steps-vertical {
  padding: 80px 0;
  background: linear-gradient(180deg, #f8fdff 0%, var(--bmm2-bg) 100%);
  position: relative;
  overflow-x: hidden;
}

.bmm2-steps-inner-vertical { 
  max-width: 1200px; 
  margin: 0 auto; 
  position: relative; 
  padding: 0 20px;
}

.bmm2-steps-header { text-align: center; margin-bottom: 60px; }
.bmm2-steps-title { font-size: 2.5rem; font-weight: 900; color: var(--bmm2-navy); }
.bmm2-steps-sub { color: var(--bmm2-muted); font-weight: 600; max-width: 700px; margin: 10px auto; }

.bmm2-timeline-vertical { 
  position: relative; 
  padding: 40px 0; 
}

/* Central Vertical Line (Desktop) */
@media (min-width: 981px) {
  .bmm2-timeline-vertical::before {
    content: "";
    position: absolute;
    left: 50%;
    top: 0;
    bottom: 0;
    width: 2px;
    background: rgba(242, 140, 40, 0.2);
    transform: translateX(-50%);
    z-index: 1;
  }
}

.bmm2-steps-list-vertical {
  list-style: none;
  padding: 0;
  margin: 0;
}

/* THE FIX: Vertical centering of badge and card */
.bmm2-step-vertical { 
  position: relative; 
  margin: 80px 0; 
  display: flex; 
  align-items: center; /* Forces Badge and Card to stay on the same horizontal line */
  width: 100%;
}

/* Desktop card layout */
.bmm2-card-vertical {
  background: var(--bmm2-card);
  border-radius: 20px;
  padding: 35px;
  box-shadow: 0 15px 45px rgba(6,30,60,0.05);
  border: 1px solid rgba(10,20,40,0.04);
  width: 44%; 
  position: relative;
  z-index: 2;
  transition: transform 600ms var(--bmm-ease), opacity 600ms var(--bmm-ease);
}

/* Alternating Alignment */
.bmm2-step-vertical.left { justify-content: flex-start; }
.bmm2-step-vertical.right { justify-content: flex-end; }

.bmm2-card-title { font-weight: 800; color: var(--bmm2-navy); font-size: 1.25rem; margin-bottom: 12px; }
.bmm2-card-text { color: #4b5563; line-height: 1.7; font-size: 1.05rem; }

/* Reveal states */
.bmm2-card-vertical[data-visible="false"] { opacity: 0; transform: translateY(30px); }
.bmm2-card-vertical[data-visible="true"] { opacity: 1; transform: translateY(0); }

/* FIXED BADGE: Uses absolute positioning relative to the LI center */
.bmm2-badge-vertical {
  position: absolute;
  left: 50%;
  top: 50%; /* Anchor to horizontal center of the LI */
  transform: translate(-50%, -50%); /* Center perfectly on the timeline line */
  width: 54px; 
  height: 54px; 
  border-radius: 50%;
  background: var(--bmm-primary);
  display: flex; 
  align-items: center; 
  justify-content: center;
  color: white; 
  font-weight: 800; 
  font-size: 1.1rem;
  z-index: 10;
  border: 4px solid #fff;
  box-shadow: 0 10px 25px rgba(242, 140, 40, 0.3);
  transition: transform 0.3s var(--bmm-ease);
}

.bmm2-badge-vertical:hover { 
  transform: translate(-50%, -50%) scale(1.15); 
}

/* =========================
   MOBILE RESPONSIVE
   ========================= */

@media (max-width: 980px) {
  .bmm2-twocol { padding: 40px 16px; }
  
  .bmm2-twocol-inner { 
    grid-template-columns: 1fr; 
    width: 100%; 
    padding: 24px; 
    gap: 30px;
    text-align: center;
  }
  
  .bmm2-twocol-inner.flip .bmm2-media, .bmm2-twocol-inner .bmm2-media { order: -1; }
  .bmm2-twocol-inner.flip .bmm2-content, .bmm2-twocol-inner .bmm2-content { order: 1; padding-left: 0; }

  /* Mobile Timeline */
  .bmm2-timeline-vertical::before {
    left: 30px; /* Move line to left side */
    transform: none;
  }

  .bmm2-step-vertical {
    flex-direction: column;
    align-items: flex-start; /* Align to the line on the left */
    padding-left: 60px;
    margin: 40px 0;
  }

  .bmm2-badge-vertical {
    left: 30px;
    top: 25px; /* Position at the top of the card area */
    transform: translate(-50%, 0);
    width: 48px;
    height: 48px;
  }

  .bmm2-card-vertical {
    width: 100%;
    padding: 25px;
    text-align: left;
  }
}

@media (max-width: 480px) {
  .bmm2-steps-title { font-size: 1.8rem; }
  .bmm2-title { font-size: 1.6rem; }
}

/* Accessibility */
@media (prefers-reduced-motion: reduce) {
  .bmm2-twocol-inner, .bmm2-card-vertical, .bmm2-badge-vertical { 
    transition: none !important; 
    transform: none !important; 
    opacity: 1 !important; 
  }
}